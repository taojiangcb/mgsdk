!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.showLog=!1}return t.prototype.internalInit=function(){this.showLog=mgsdk.initOpts.outLog||!0},t.prototype.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error(t,e)},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.showLog&&console.log(t,e)},t.prototype.warn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.showLog&&console.warn(t,e)},t}();e.log=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.platId=0,this.gameId=0,this.setting={canBanner:!1,canPay:!1,canViedo:!1,canShare:!1},this.sdk_server="http://localhost:3005",this.sdk_server_dev="http://localhost:3005",this.sdk_server_local="http://localhost:3005",this.mode=0,this.user={},this.cdnUrl=""}return Object.defineProperty(t.prototype,"sdk_server_url",{get:function(){return 0===this.mode?this.sdk_server_local:1===this.mode?this.sdk_server_dev:this.sdk_server},enumerable:!0,configurable:!0}),t}();e.Define=r,e.SDK_MODE={DEBUG:0,TEST:1,ONLINE:2},e.PLAT_IDS={WEB:1e3,WX:1100},e.ENUM_SERVER={platServer:"platServer",loginServer:"loginServer"},e.ENUM_SVR_FUN={getPlatInfo:"getPlatInfo",login:"login"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._events=null}return t.prototype.hasListener=function(t){return!!(this._events&&this._events[t])},t.prototype.event=function(t,e){if(!this._events||!this._events[t])return!1;var n=this._events[t];if(n.run)n.once&&delete this._events[t],null!=e?n.runWith(e):n.run();else{for(var r=0,o=n.length;r<o;r++){var i=n[r];i&&(null!=e?i.runWith(e):i.run()),i&&!i.once||(n.splice(r,1),r--,o--)}0===n.length&&this._events&&delete this._events[t]}return!0},t.prototype.on=function(t,e,n,r){return this._createListener(t,e,n,r,!1)},t.prototype.once=function(t,e,n,r){return this._createListener(t,e,n,r,!0)},t.prototype._createListener=function(t,e,n,r,i,s){void 0===i&&(i=!1),void 0===s&&(s=!0),s&&this.off(t,e,n,i);var a=o.create(e||this,n,r,i);this._events||(this._events={});var c=this._events;return c[t]?c[t].run?c[t]=[c[t],a]:c[t].push(a):c[t]=a,this},t.prototype.off=function(t,e,n,r){if(void 0===r&&(r=!1),!this._events||!this._events[t])return this;var o=this._events[t];if(null!=n)if(o.run)e&&o.caller!==e||o.method!==n||r&&!o.once||(delete this._events[t],o.recover());else{for(var i=0,s=0,a=o.length;s<a;s++){var c=o[s];!c||e&&c.caller!==e||c.method!==n||r&&!c.once||(i++,o[s]=null,c.recover())}i===a&&delete this._events[t]}return this},t.prototype.offAll=function(t){var e=this._events;if(!e)return this;if(t)this._recoverHandlers(e[t]),delete e[t];else{for(var n in e)this._recoverHandlers(e[n]);this._events=null}return this},t.prototype._recoverHandlers=function(t){if(t)if(t.run)t.recover();else for(var e=t.length-1;e>-1;e--)t[e]&&(t[e].recover(),t[e]=null)},t}();e.EventDispatcher=r;var o=function(){function t(t,e,n,r){void 0===r&&(r=!1),this.once=!1,this._id=0,this.caller=t,this.once=r,this.method=e,this.args=n}return t.prototype.setTo=function(e,n,r,o){return this._id=t._gid++,this.caller=e,this.method=n,this.args=r,this.once=o,this},t.prototype.run=function(){if(null==this.method)return null;var t=this._id,e=this.method.apply(this.caller,this.args);return this._id===t&&this.once&&this.recover(),e},t.prototype.runWith=function(t){if(null==this.method)return null;var e=this._id;if(null==t)var n=this.method.apply(this.caller,this.args);else n=this.args||t.unshift?this.args?this.method.apply(this.caller,this.args.concat(t)):this.method.apply(this.caller,t):this.method.call(this.caller,t);return this._id===e&&this.once&&this.recover(),n},t.prototype.recover=function(){this._id>0&&(this._id=0,t._pool.push(this.clear()))},t.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},t.create=function(e,n,r,o){return void 0===o&&(o=!0),void 0===o&&(o=!0),t._pool.length?t._pool.pop().setTo(e,n,r,o):new t(e,n,r,o)},t._gid=0,t._pool=[],t}();e.Handler=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(10),i=n(1),s=function(){function t(){}return t.prototype.internalInit=function(){var t=this;this.mInitOpts=mgsdk.initOpts,this.mInitOpts.libUrl&&mgsdk.native.requireLib(this.mInitOpts.libUrl,function(){t.getPlatInfo()},function(){var e="第三方 lib 加载失败:"+t.mInitOpts.libUrl;r.log.error(e),t.mInitOpts.fail(e)})},t.prototype.getPlatInfo=function(){var t=this;o.HttpTools.callServer(i.ENUM_SERVER.platServer,i.ENUM_SVR_FUN.getPlatInfo,{paltId:this.mInitOpts.platId,gameId:this.mInitOpts.gameId},function(e){t.mConfigCli=e.data.cli_config,t.mInitOpts.success&&t.mInitOpts.success(e)},function(){var e="get platInfo fail == paltId:"+t.mInitOpts.platId+",gameId:"+t.mInitOpts.gameId;t.mInitOpts.fail&&t.mInitOpts.fail(e)})},Object.defineProperty(t.prototype,"cliConfig",{get:function(){return this.mConfigCli},enumerable:!0,configurable:!0}),t.prototype.login=function(t){this.mLoginOpts=t},t.prototype.getLaunchOptionsSync=function(){return{}},t.prototype.platLogin=function(t,e){var n=this,s="",a="",c="",u=e?e.referrerInfo:null;u&&u.appId&&(c=u.appId,a=e.scene.toString());var l=e?e.query:null;l&&(l.fromUser&&(s=l.fromUser),l.channelId&&(a=l.channelId));var p={platUser:t,platId:this.mInitOpts.platId,gameId:this.mInitOpts.gameId,fromChannel:a,fromAppId:c,fromUser:s};o.HttpTools.callServer(i.ENUM_SERVER.platServer,i.ENUM_SVR_FUN.login,p,function(t){t.success?(mgsdk.define.user=t.data,n.mLoginOpts.success&&n.mLoginOpts.success(t.data)):(r.log.error(t.msg),n.mLoginOpts.fail&&n.mLoginOpts.fail(t.msg))},function(){var t="登录失败 params"+JSON.stringify(p);r.log.error(t),n.mLoginOpts.fail&&n.mLoginOpts.fail()})},t}();e.PlatBase=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=function(){function t(){}return t.prototype.httpRequst=function(t){},t.prototype.requireLib=function(t,e,n){},t.prototype.timeOnce=function(t,e,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var s=r.Handler.create(e,n,o);return setTimeout(function(){s.run()},t)},t.prototype.clearTimeOnce=function(t){clearTimeout(t)},t.prototype.setItem=function(t,e){return null},t.prototype.getItem=function(t){return null},t.prototype.getSystemInfoAsync=function(){return null},t}();e.NativeBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.mLifeOpts=t,this.internalInit()}return t.prototype.internalInit=function(){this.mLifeOpts||(this.mLifeOpts={})},t.prototype.onShow=function(t){this.mLifeOpts.onShow=t},t.prototype.onHide=function(t){this.mLifeOpts.onHide=t},t.prototype.offShow=function(t){this.mLifeOpts.onShow=null},t.prototype.offHide=function(t){this.mLifeOpts.onHide=null},t.prototype.onError=function(t){this.mLifeOpts.onError=t},t.prototype.offError=function(t){this.mLifeOpts.onError=null},t.prototype.onShowHnalder=function(t){this.mLifeOpts.onShow&&this.mLifeOpts.onShow(t)},t.prototype.onHideOffHnalder=function(t){this.mLifeOpts.onHide&&this.mLifeOpts.onHide(t)},t.prototype.onErrorHandler=function(t){this.mLifeOpts.onError&&this.mLifeOpts.onError(t)},t}();e.SdkLife=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=new(n(7).SDK);console.log("----------index.js----------------"),window&&(window.mgsdk=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(1),i=n(0),s=n(18),a=function(){function t(){}return t.prototype.init=function(t,e,n){this.mDefine=new o.Define,this.mDefine.platId=t.platId,this.mDefine.gameId=t.gameId,n&&s.ObjectUtil.copyObj(this.mDefine.setting,n),this.mDefine.mode=t.mode,this.mInitOpts=t,i.log.internalInit(),this.mLife=r.PlatFactory.createLifeInstance(t.platId,e),this.mPlat=r.PlatFactory.createFactoryInstance(t.platId),this.mNative=r.PlatFactory.createNativeInstance(t.platId),this.mPlat.internalInit()},Object.defineProperty(t.prototype,"sdkLife",{get:function(){return this.mLife},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initOpts",{get:function(){return this.mInitOpts},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.mDefine.user},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setting",{get:function(){return this.mDefine.setting},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plat",{get:function(){return this.mPlat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"define",{get:function(){return this.mDefine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"native",{get:function(){return this.mNative},enumerable:!0,configurable:!0}),t}();e.SDK=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(9),i=n(11),s=n(12),a=n(13),c=n(5),u=n(17),l=function(){function t(){}return t.createFactoryInstance=function(t){switch(t){case r.PLAT_IDS.WX:return new o.PlatWx;default:return new i.PlatDebug}},t.createNativeInstance=function(t){switch(t){case r.PLAT_IDS.WX:return new s.NativeWx;default:return new a.NativeDebug}},t.createLifeInstance=function(t,e){switch(t){case r.PLAT_IDS.WX:return new u.LifeWx(e);default:return new c.SdkLife(e)}return new c.SdkLife},t}();e.PlatFactory=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),s=n(0),a=function(t){function e(){var e=t.call(this)||this;return e.mIsFail=!1,e}return o(e,t),e.prototype.internalInit=function(){t.prototype.internalInit.call(this)},e.prototype.login=function(e){t.prototype.login.call(this,e),this.wxLogin()},e.prototype.getLaunchOptionsSync=function(){return wx.getLaunchOptionsSync()},e.prototype.wxLogin=function(){var t=this;wx.login({success:function(e){t.mLoginResult=e,s.log.log("wx登录成功：",e),t.mCodeTimer=mgsdk.native.timeOnce(3e5,t,t.wxLogin),t.mLoginOpts.getUser?t.showLoginBtn():t.callLogin()},fail:function(e){s.log.error("wx登录失败:",e),mgsdk.native.timeOnce(1e3,t,t.wxLogin)}})},e.prototype.showLoginBtn=function(){var t=this;if(!this.mBtn){var e=this;if(s.log.log("显示登录按钮"),!wx.getUserInfo||this.mIsFail){if(wx.createUserInfoButton){var n=wx.getSystemInfoSync(),r={width:332,height:127,x:0,y:0,skin:mgsdk.define.cdnUrl+"promotion/wxLogin.png"};if(r.x=(2*n.windowWidth-r.width)/2,r.y=(2*n.windowHeight-r.height)/3*2,this.mLoginOpts.btnStyle)for(var o in this.mLoginOpts.btnStyle)r[o]=this.mLoginOpts.btnStyle[o];if(-1==r.skin.indexOf("http")){var i=wx.createImage();i.src=r.skin,r.skin=i.src}s.log.log(r),this.mBtn=wx.createUserInfoButton({type:"image",image:r.skin,style:{left:r.x/2,top:r.y/2,width:r.width/2,height:r.height/2}}),this.mBtn.show(),this.mBtn.onTap(this._userGetHandler.bind(this))}}else wx.getUserInfo({withCredentials:!0,lang:"zh_CN",success:function(t){s.log.log("用户数据获取成功:"+JSON.stringify(t.userInfo)),e._userGetHandler(t)},fail:function(e){s.log.error("获取用户信息失败",e),t.mIsFail=!0,t.showLoginBtn()}})}},e.prototype._userGetHandler=function(t){s.log.log("用户授权数据:",t),this.mBtn&&(this.mBtn.destroy(),this.mBtn=null),t.userInfo?(this.mUserInfo=t,this.callLogin()):this.showLoginBtn()},e.prototype.callLogin=function(){this.mCodeTimer&&(mgsdk.native.clearTimeOnce(this.mCodeTimer),this.mCodeTimer=null);var t="",e="";if(this.mUserInfo){var n={iv:this.mUserInfo.iv,encryptData:this.mUserInfo.encryptedData};t=this.mUserInfo.userInfo.nickName,e=this.mUserInfo.userInfo.avatarUrl}var r=this.getLaunchOptionsSync();this.platLogin({code:this.mLoginResult.code,naickName:t,avatar:e,content:n},r)},e}(i.PlatBase);e.PlatWx=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(){this._retryTime=0}return t.callServer=function(t,e,n,r,o,i){void 0===i&&(i="POST");var s=mgsdk.define.sdk_server_url+"/"+t+"/"+e;this.send(s,n,r,o,i)},t.send=function(e,n,r,o,i){var s;void 0===i&&(i="POST"),(s=this._pool&&this._pool.length>0?this._pool.shift():new t).setTo(e,n,r,o,i),s.send()},t.prototype.setTo=function(t,e,n,r,o){void 0===o&&(o="POST"),this._retryTime=0;var i=this;(e=e||{}).timestamp=Date.now(),this._request={url:t,method:o,data:e,success:function(t){var e;if("string"==typeof t)try{e=JSON.parse(t)}catch(n){e={success:!1,data:t}}else e=t.data;n&&n(e),i._recover()},fail:function(t){i._retryTime++,i._retryTime>3?(r&&r(),i._recover()):mgsdk.native.timeOnce(3e3,i,i.send)}}},t.prototype.send=function(){this._request&&(mgsdk.native?mgsdk.native.httpRequst(this._request):r.log.error("native还没有初始化"))},t.prototype._recover=function(){t._pool||(t._pool=[]),this._request=null,t._pool.push(this)},t}();e.HttpTools=o},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.login=function(t){var e=t.arg;e.user,e.pwd},e}(n(3).PlatBase);e.PlatDebug=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.httpRequst=function(t){var e={};for(var n in t)e[n]=t[n];if(t.header){for(var r={},o=0;o<t.header.length;o+=2)r[t.header[o]]=t.header[o+1];e.header=r}wx.request(e)},e.prototype.setItem=function(t,e){wx.setStorageSync(t,e)},e.prototype.getItem=function(t){return wx.getStorageSync(t)},e.prototype.getSystemInfoAsync=function(){if(this.laze_systemInfo)return this.laze_systemInfo;var t=wx.getSystemInfoSync();return t.system&&-1!=t.system.toLocaleLowerCase().indexOf("ios")&&(t.isIos=!0),this.laze_systemInfo=t,t},e}(n(4).NativeBase);e.NativeWx=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this)||this}return o(e,t),e}(n(14).NativeWeb);e.NativeDebug=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n(0),a=n(15),c=n(2),u=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.setItem=function(t,e){localStorage.setItem(t,e)},e.prototype.getItem=function(t){localStorage.getItem(t)},e.prototype.getSystemInfoAsync=function(){return{}},e.prototype.requireJs=function(t,e){var n=document.createElement("script");n.type="text/javascript",n.src=t,document.body.appendChild(n),n.onload=function(){e&&e()}},e.prototype.httpRequst=function(t){var e=new a.HttpRequest;e.once("complete",this,function(){t.success&&t.success(e.data)}),e.once("error",this,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n&&n.length>0&&s.log.log(n[0]),t.fail&&t.fail(e.data)}),e.send(t.url,JSON.stringify(t.data),t.method.toLocaleLowerCase(),"text",["Content-Type","application/json"])},e.prototype.timeOnce=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=c.Handler.create(e,n,r);return setTimeout(function(){i.run()},t)},e.prototype.clearTimeOnce=function(t){clearTimeout(t)},e.prototype.setClipBord=function(t,e,n){if(window.clipboardData)window.clipboardData.clearData(),window.clipboardData.setData("Text",t);else if(-1!=navigator.userAgent.indexOf("Opera"))window.location=t;else if(window.netscape){try{window.netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(t){alert("您的当前浏览器设置已关闭此功能！请按以下步骤开启此功能！\n新开一个浏览器，在浏览器地址栏输入'about:config'并回车。\n然后找到'signed.applets.codebase_principal_support'项，双击后设置为'true'。\n声明：本功能不会危极您计算机或数据的安全！")}var r=window.Components,o=r.classes["@mozilla.org/widget/clipboard;1"].createInstance(r.interfaces.nsIClipboard);if(!o)return;var i=r.classes["@mozilla.org/widget/transferable;1"].createInstance(r.interfaces.nsITransferable);if(!i)return;i.addDataFlavor("text/unicode");new Object;var s=r.classes["@mozilla.org/supports-string;1"].createInstance(r.interfaces.nsISupportsString),a=t;s.data=a,i.setTransferData("text/unicode",s,2*a.length);var c=r.interfaces.nsIClipboard;if(!o)return!1;o.setData(i,null,c.kGlobalClipboard)}else var u=window.layer.alert('确定要复制"'+t+'"',function(){var n=document.createElement("input");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy")&&(console.log("复制成功"),document.body.onclick=null,n.remove(),e&&e()),window.layer.close(u)});return!0},e}(i.NativeBase);e.NativeWeb=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),s=n(16),a=function(t){function e(){var e=t.call(this)||this;return e._responseType="",e._data=null,e._http=null,e._http=new XMLHttpRequest,e}return o(e,t),e.prototype.send=function(t,e,n,r,o){void 0===n&&(n="get"),void 0===r&&(r="text"),this._responseType=r,this._data=null;var i=this,s=this._http;if(s.open(n,t,!0),o)for(var a=0;a<o.length;a++)s.setRequestHeader(o[a++],o[a]);else e&&"string"!=typeof e?s.setRequestHeader("Content-Type","application/json"):s.setRequestHeader("Content-Type","application/x-www-form-urlencoded");s.responseType="arraybuffer"!==r?"text":"arraybuffer",s.onerror=function(t){i._onError(t)},s.onabort=function(t){i._onAbort(t)},s.onprogress=function(t){i._onProgress(t)},s.onload=function(t){i._onLoad(t)},s.send(e)},e.prototype._onError=function(t){this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText)},e.prototype._onAbort=function(t){this.error("Request was aborted by user")},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.event("progress",t.loaded/t.total)},e.prototype._onLoad=function(t){var e=this._http,n=void 0!==e.status?e.status:200;200===n||204===n||0===n?this.complete():this.error("["+e.status+"]"+e.statusText+":"+e.responseURL)},e.prototype.error=function(t){this.clear(),this.event("error",t)},e.prototype.complete=function(){this.clear();var t=!0;try{"json"===this._responseType?this._data=JSON.parse(this._http.responseText):"xml"===this._responseType?this._data=s.Utils.parseXMLFromString(this._http.responseText):this._data=this._http.response||this._http.responseText}catch(e){t=!1,this.error(e.message)}t&&this.event("complete",this._data instanceof Array?[this._data]:this._data)},e.prototype.clear=function(){var t=this._http;t.onerror=t.onabort=t.onprogress=t.onload=null},Object.defineProperty(e.prototype,"url",{get:function(){return this._http.responseURL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"http",{get:function(){return this._http},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e}(i.EventDispatcher);e.HttpRequest=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(){}return t.parseXMLFromString=function(t){var e;if(t=t.replace(/>\s+</g,"><"),(e=(new DOMParser).parseFromString(t,"text/xml")).firstChild.textContent.indexOf("This page contains the following errors")>-1)throw new Error(e.firstChild.firstChild.textContent);return e},t}();e.Utils=o,e.compareVersion=function(t,e){if(r.log.log("比较版本"+t+":"+e),!t&&e)return-1;if(t&&!e)return 1;for(var n=t.split("."),o=e.split("."),i=Math.max(n.length,o.length),s=0;s<i;s++){if(!n[s])return-1;if(!o[s])return 1;if(n[s]>o[s])return 1;if(n[s]<o[s])return-1}return 0}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.internalInit=function(){t.prototype.internalInit.call(this),wx.onShow(this.onShowHnalder),wx.onHide(this.onHideOffHnalder),wx.onError(this.onErrorHandler)},e}(n(5).SdkLife);e.LifeWx=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.copyObj=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t}();e.ObjectUtil=r}]);